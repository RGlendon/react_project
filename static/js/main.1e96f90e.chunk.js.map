{"version":3,"sources":["blocks/Nav/Nav.module.css","blocks/Nav/Friends/Friend/Friend.module.css","blocks/News/News.module.css","blocks/Music/Music.module.css","blocks/Settings/Settings.module.css","images/preloader.gif","blocks/Profile/Profile.module.css","blocks/Profile/MyPosts/Post/Post.module.css","blocks/Login/Login.module.css","hoc/withAuthRedirect.js","serviceWorker.js","redux/navbaarReducer.js","api/api.js","redux/profileReducer.js","redux/usersReducer.js","redux/authReducer.js","redux/appReducer.js","redux/storeRedux.js","blocks/Nav/Friends/Friend/Friend.jsx","blocks/Nav/Friends/Friends.jsx","blocks/Nav/NavBaar.jsx","blocks/News/News.jsx","blocks/Music/Music.jsx","blocks/Settings/Settings.jsx","blocks/common/Preloader/Preloader.jsx","blocks/common/Paginator/Paginator.jsx","blocks/Users/Users.jsx","blocks/Users/UsersContainer.jsx","blocks/Profile/ProfileInfo/ProfileStatusHook.jsx","blocks/Profile/ProfileInfo/ProfileInfo.jsx","blocks/Profile/MyPosts/Post/Post.jsx","blocks/Profile/MyPosts/Posts.jsx","blocks/Profile/MyPosts/PostsContainer.jsx","blocks/Profile/Profile.jsx","redux/selectors/profileSelectors.js","blocks/Profile/ProfileContainer.jsx","blocks/Header/Header.jsx","blocks/Header/HeaderContainer.jsx","blocks/Login/Login.jsx","blocks/Login/LoginContainer.jsx","App.js","index.js","utils/validators.js","blocks/common/ValidatorForms/ValidatorForms.jsx","blocks/common/ValidatorForms/Validators.module.css","blocks/Nav/Friends/Friends.module.css","blocks/Users/Users.module.css","blocks/Profile/ProfileInfo/ProfileInfo.module.css","blocks/Header/Header.module.css","blocks/common/Paginator/Paginator.module.css","blocks/Profile/MyPosts/Posts.module.css","redux/dialogsReducer.js"],"names":["module","exports","withAuthRedirect","Component","RedirectComponent","this","props","isLogin","to","React","connect","state","auth","Boolean","window","location","hostname","match","initialState","friends","id","name","src","navbaarReducer","navbaar","instance","axios","headers","baseURL","withCredentials","usersAPI","currentPage","pageSize","get","userId","delete","post","console","warn","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","email","password","rememberMe","posts","message","likesCount","userProfile","profileReducer","action","type","newPost","postText","setStatus","users","totalCount","isLoading","disabled","usersReducer","map","u","userID","followed","filter","followToggle","setPreloader","makeDisable","login","authReducer","data","setAuthInfo","getAuthData","dispatch","then","resp","resultCode","initialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","dialogsReducer","usersPage","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Friend","className","s","friend","alt","Friends","key","title","wrapper","NavBaar","nav","list","link","activeClassName","link_active","News","news","Music","music","Settings","dialogs","Preloader","preloader","Paginator","pageCount","Math","ceil","pages","i","push","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","p","pageNumber","selectedPage","setCurrentPage","Users","userWrapper","photos","small","photo","some","unfollowThunkCreator","followThunkCreator","mainInfo","UsersAPI","getUsersThunkCreator","mapDispatchToProps","items","ProfileStatusHook","editMode","setEditMode","useEffect","onDoubleClick","autoFocus","onBlur","value","onChange","event","currentTarget","ProfileInfo","info","background","large","Post","likesCountss","maxLength10","maxLength","AddPostForm","onSubmit","handleSubmit","Field","component","renderTextarea","validate","placeholder","reduxForm","Posts","formData","addPost","PostsContainer","newText","newTextPost","addPostActionCreator","Profile","main","getUserProfile","createSelector","user","getUserStatus","ProfileAPI","params","authorizedId","history","withRouter","Header","header","logout","HeaderAPI","maxLength30","maxLength15","LoginForm","renderInput","required","commonError","error","Login","messages","stopSubmit","_error","DialogsContainer","lazy","App","initializeApp","HeaderContainer","getState","path","render","ProfileContainer","fallback","UsersContainer","LoginContainer","promises","Promise","all","renderEntireTree","ReactDOM","document","getElementById","subscribe","navigator","serviceWorker","ready","registration","unregister","undefined","length","fieldData","input","meta","restProps","hasError","touched","formControl","newMessage","messageText","addMessageActionCreator"],"mappings":"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","file":"static/js/main.1e96f90e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__2ZLvf\",\"list\":\"Nav_list__2Kyo7\",\"link\":\"Nav_link__3VkC-\",\"link_active\":\"Nav_link_active__Gngc7\",\"wrapper\":\"Nav_wrapper__21TvM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__BgPbh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__PsiMT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"Music_music__2cQMM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Settings_dialogs__3ULKw\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.0fba2a31.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Profile_main__1YBUk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__1pURQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"commonError\":\"Login_commonError__JeHvs\"};","import React, {Component} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n//можно использовать классовую компоненту, в данном случае решил исп. функцию\r\n//     function RedirectComponent (props) {\r\n//         if (!props.isLogin) return <Redirect to='/login' />\r\n//         return <Component {...props}/>\r\n//     }\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isLogin) return <Redirect to='/login' />\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let mapStateToProps = (state) => ({\r\n        isLogin: state.auth.isLogin,\r\n    });\r\n\r\n    let ConnectedRedirectComponent = connect(mapStateToProps)(RedirectComponent);\r\n\r\n    return ConnectedRedirectComponent;\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState = {\r\n    friends: [\r\n        {id:1, name: 'Sveta', src: 'https://avatars.mds.yandex.net/get-pdb/1365420/2a6155fa-b07a-4eb8-aa3c-f603106f03db/s1200'},\r\n        {id:2, name: 'Petr', src: 'https://ru.fishki.net/picsw/032011/02/post/portret/portret-027.jpg'},\r\n        {id:3, name: 'Vlasa',src: 'https://avatars.mds.yandex.net/get-pdb/916253/397597be-eb81-45a1-a4bb-1538a74253b0/s1200'}\r\n    ]\r\n};\r\n\r\nfunction navbaarReducer(navbaar = initialState, action) {\r\n\r\n    return navbaar;\r\n}\r\n\r\nexport default navbaarReducer;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    headers: {\r\n        'api-key': '951be1b4-e53d-4f02-b7b3-34c9b3cb8b52'\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0',\r\n    withCredentials: true,\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`/users?page=${currentPage}&count=${pageSize}`);\r\n    },\r\n\r\n    unfollow(userId) {\r\n        return instance.delete(`/follow/${userId}`);\r\n    },\r\n\r\n    follow(userId) {\r\n        return instance.post(`/follow/${userId}`);\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.warn('Absolete method, please use profileAPI.getProfile');\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`/profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`/profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('/profile/status', {status: status})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`/auth/me`);\r\n    },\r\n    login(email, password, rememberMe) {\r\n        return instance.post(`/auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`/auth/login`);\r\n    }\r\n};\r\n","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Peace\", likesCount: 12},\r\n        {id: 2, message: \"That's great\", likesCount: 3},\r\n        {id: 3, message: \"I'm realy good\", likesCount: 7},\r\n        // {id: 4, message: \"What's up?\", likesCount: 1},\r\n        // {id: 5, message: \"You are so cool\", likesCount: 0},\r\n        // {id: 6, message: \"Hello\", likesCount: 3},\r\n        // {id: 7, message: \"Hi everyone\", likesCount: 14},\r\n    ],\r\n    userProfile: null,\r\n    status: 'initial status',\r\n};\r\n\r\nfunction profileReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 8,\r\n                message: action.postText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {...state, userProfile: action.userProfile};\r\n        case SET_STATUS:\r\n            return {...state, status: action.status};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default profileReducer;\r\n\r\n//ActionCreators\r\nexport const addPostActionCreator = (postText) => ({type: ADD_POST, postText});\r\nexport const setUserProfile = (userProfile) => ({type: SET_USER_PROFILE, userProfile});\r\nexport  const setStatus = (status) => ({type: SET_STATUS, status});\r\n\r\n//ThunkCreators\r\nexport const getProfile = (userId) => (dispatch) => {\r\n    usersAPI.getProfile(userId)\r\n        .then(resp => {\r\n            dispatch(setUserProfile(resp.data));\r\n        })\r\n};\r\nexport const getStatus = (userId) => (dispatch) => {\r\n    profileAPI.getStatus(userId)\r\n        .then(resp => {\r\n            dispatch(setStatus(resp.data));\r\n        })\r\n};\r\nexport const updateStatus = (status) => (dispatch) => {\r\n    profileAPI.updateStatus(status)\r\n        .then(resp => {\r\n            if (resp.data.resultCode === 0) {\r\n                dispatch(setStatus(status));\r\n            }\r\n        })\r\n};","import {usersAPI} from \"../api/api\";\r\n\r\nconst FOLLOWED_TOGGLE = 'FOLLOWED_TOGGLE';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_TOTAL_COUNT = 'SET_TOTAL_COUNT';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_PRELOADER = 'SET_PRELOADER';\r\nconst MAKE_DISABLE = 'MAKE_DISABLE';\r\n\r\nconst initialState = {\r\n    users: [\r\n        // {\r\n        //     id: 1,\r\n        //     fullName: 'Petr Olegovich',\r\n        //     status: 'I am good',\r\n        //     location: {country: 'Russia', city: 'Moscow'},\r\n        //     photoUrl: 'https://avatars.mds.yandex.net/get-pdb/1620281/2493ea28-7421-49f6-b90a-470b66b2cf01/s1200',\r\n        //     followed: false,\r\n        // },\r\n        // {\r\n        //     id: 2,\r\n        //     fullName: 'Rita',\r\n        //     status: 'I am good too',\r\n        //     location: {country: 'Russia', city: 'Belev'},\r\n        //     photoUrl: 'https://avatars.mds.yandex.net/get-pdb/1620281/2493ea28-7421-49f6-b90a-470b66b2cf01/s1200',\r\n        //     followed: true,\r\n        // },\r\n        // {\r\n        //     id: 3,\r\n        //     fullName: 'Dmitry',\r\n        //     status: 'norm',\r\n        //     location: {country: 'Belarus', city: 'Minsk'},\r\n        //     photoUrl: 'https://avatars.mds.yandex.net/get-pdb/1620281/2493ea28-7421-49f6-b90a-470b66b2cf01/s1200',\r\n        //     followed: true,\r\n        // },\r\n    ],\r\n    currentPage: 1,\r\n    pageSize: 15,\r\n    totalCount: 30,\r\n    isLoading: false,\r\n    disabled: []\r\n}\r\n\r\nfunction usersReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case FOLLOWED_TOGGLE:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: !u.followed}\r\n                    }\r\n                    return u;\r\n                }),\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            };\r\n        case SET_TOTAL_COUNT:\r\n            return {\r\n                ...state,\r\n                totalCount: action.totalCount\r\n            };\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            };\r\n        case SET_PRELOADER:\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading\r\n            };\r\n        case MAKE_DISABLE:\r\n            return {\r\n                ...state,\r\n                disabled: action.disabled ? [...state.disabled, action.userId] : state.disabled.filter( id => id !== action.userId)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer;\r\n\r\nexport const followToggle = (userID) => ({type: FOLLOWED_TOGGLE, userID});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setTotalCount  = (totalCount) => ({type: SET_TOTAL_COUNT, totalCount});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setPreloader = (isLoading) => ({type: SET_PRELOADER, isLoading});\r\nexport const makeDisable = (disabled, userId) => ({type: MAKE_DISABLE, disabled, userId});\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n    return (dispatch) => {\r\n        dispatch(setPreloader(true));\r\n        usersAPI.getUsers(currentPage, pageSize)\r\n            .then(resp => {\r\n                dispatch(setPreloader(false));\r\n                dispatch(setUsers(resp.data.items));\r\n                dispatch(setTotalCount(resp.data.totalCount));\r\n            })\r\n    }\r\n};\r\nexport const unfollowThunkCreator = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(makeDisable(true, userId));\r\n        usersAPI.unfollow(userId)\r\n            .then(resp => {\r\n                if (resp.data.resultCode === 0) {\r\n                    dispatch(followToggle(userId));\r\n                }\r\n                dispatch(makeDisable(false, userId));\r\n            });\r\n    }\r\n};\r\nexport const followThunkCreator = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(makeDisable(true, userId));\r\n        usersAPI.follow(userId)\r\n            .then(resp => {\r\n                if (resp.data.resultCode === 0) {\r\n                    dispatch(followToggle(userId));\r\n                }\r\n                dispatch(makeDisable(false, userId));\r\n            });\r\n    }\r\n};\r\n","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_AUTH_INFO = 'SET_AUT_INFO';\r\n\r\nconst initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isLogin: false\r\n};\r\n\r\nfunction authReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case SET_AUTH_INFO:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isLogin: action.isLogin,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;\r\n\r\n\r\nexport const setAuthInfo = (data, isLogin) => ({type: SET_AUTH_INFO, data, isLogin});\r\n\r\n//thunkCreators\r\nexport const getAuthData = () => (dispatch) => {\r\n   return authAPI.me()\r\n        .then(resp => {\r\n            // debugger\r\n            if (resp.data.resultCode === 0) {\r\n                dispatch(setAuthInfo(resp.data.data, true));\r\n            }\r\n        })\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => (dispatch) => {\r\n    authAPI.login(email, password, rememberMe)\r\n        .then(resp => {\r\n            if (resp.data.resultCode === 0) {\r\n                dispatch(getAuthData());\r\n            } else {\r\n                let message = resp.data.messages[0];\r\n                dispatch(stopSubmit('loginForm', {_error: message}));\r\n            }\r\n        })\r\n}\r\n\r\nexport const logout = () => (dispatch) => {\r\n    authAPI.logout()\r\n        .then(resp => {\r\n            if (resp.data.resultCode === 0) {\r\n                dispatch(setAuthInfo({id: null, login: null, email: null,}, false));\r\n            }\r\n        })\r\n}","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthData} from \"./authReducer\";\r\n\r\nconst TO_INITIALIZE = 'TO_INITIALAZE_';\r\n\r\nconst initialState = {\r\n    initialized: false,\r\n};\r\n\r\nfunction appReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case TO_INITIALIZE:\r\n            return {\r\n                ...state,\r\n                initialized: action.initialized,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer;\r\n\r\n\r\nexport const initialize = (initialized) => ({type: TO_INITIALIZE, initialized});\r\n\r\n//thunkCreators\r\nexport const initializeApp = () => (dispatch) => {\r\n    let authDataPromise = dispatch(getAuthData());\r\n    let promises = [authDataPromise];\r\n\r\n    Promise.all(promises)\r\n        .then(resp => {\r\n            // debugger\r\n            dispatch(initialize(true));\r\n        })\r\n};\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport navbaarReducer from \"./navbaarReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    navbaar: navbaarReducer,\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.store = store;\r\nexport default store;","import React from 'react';\r\nimport s from \"./Friend.module.css\";\r\n\r\n\r\n\r\nfunction Friend(props) {\r\n\r\n  return (\r\n        <div className={s.friend}>\r\n          <img src={props.src} alt=\"\"/>\r\n          <p>{props.name}</p>\r\n        </div>\r\n\r\n  );\r\n}\r\n\r\nexport default Friend;","import React from 'react';\r\nimport s from \"./Friends.module.css\";\r\nimport Friend from \"./Friend/Friend\";\r\n\r\n\r\n\r\nfunction Friends(props) {\r\n\r\n  let friend = props.friends.map(({name, src, id}) => <Friend name={name} src={src} key={id}/>)\r\n\r\n  return (\r\n    <div className={s.friends}>\r\n      <h2 className={s.title}>Friends</h2>\r\n      <div className={s.wrapper}>\r\n        {friend}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport s from './Nav.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Friends from \"./Friends/Friends\";\r\n\r\nfunction NavBaar(props) {\r\n\r\n  return (\r\n    <nav className={s.nav}>\r\n      <ul className={s.list}>\r\n        <li><NavLink to=\"/profile\" className={s.link} activeClassName={s.link_active}>Profile</NavLink></li>\r\n        <li><NavLink to=\"/dialogs\" className={s.link} activeClassName={s.link_active}>Message</NavLink></li>\r\n        <li><NavLink to=\"/news\" className={s.link} activeClassName={s.link_active}>News</NavLink></li>\r\n        <li><NavLink to=\"/music\" className={s.link} activeClassName={s.link_active}>Music</NavLink></li>\r\n        <li><NavLink to=\"/settings\" className={s.link} activeClassName={s.link_active}>Settings</NavLink></li>\r\n        <li><NavLink to=\"/users\" className={s.link} activeClassName={s.link_active}>Users</NavLink></li>\r\n      </ul>\r\n      <Friends friends={props.state.friends}/>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default NavBaar;","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nfunction News(props) {\r\n  return (\r\n    <div className={s.news}>\r\n      очень важные новости\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nfunction Music(props) {\r\n    return (\r\n        <div className={s.music}>\r\n            список музыки\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nfunction Settings(props) {\r\n    return (\r\n        <div className={s.dialogs}>\r\n            настройки\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport preloader from '../../../images/preloader.gif';\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <img src={preloader}/>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import s from \"./Paginator.module.css\";\r\nimport React, {useState} from \"react\";\r\n\r\nconst Paginator = (props) => {\r\n    let pageCount = Math.ceil(props.totalCount / props.pageSize);\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pageCount / props.portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * props.portionSize;\r\n\r\n    return (\r\n        <div>\r\n            <button onClick={() => { setPortionNumber(1) }}>to the start</button>\r\n\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => { setPortionNumber(portionNumber - 1) }}>Back</button>}\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <span\r\n                        className={`${s.pageNumber} ${props.currentPage === p ? s.selectedPage : null}`}\r\n                        onClick={() => { props.setCurrentPage(p) }} key={p}>{p}</span>\r\n                })}\r\n\r\n            {portionCount > portionNumber &&\r\n                <button onClick={() => { setPortionNumber(portionNumber + 1) }}>Next</button>}\r\n\r\n            <button onClick={() => { setPortionNumber(portionCount) }}>to the end</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport s from './Users.module.css';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\n\r\nfunction Users(props) {\r\n    return (\r\n        <div>\r\n            <Paginator totalCount={props.totalCount}\r\n                       pageSize={props.pageSize}\r\n                       currentPage={props.currentPage}\r\n                       portionSize={'10'}\r\n                       setCurrentPage={props.setCurrentPage}/>\r\n            {props.isLoading ? <Preloader/> : null}\r\n            {props.users.map(u => {\r\n                return (\r\n                    <div key={u.id} className={s.userWrapper}>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + u.id}>\r\n                                <img\r\n                                    src={u.photos.small ? u.photos.small : 'https://cdn.pricearchive.org/images/aliexpress.com/32675545831/Francoise-Nielly-Hand-painted-Marilyn-Monroe-Oil-painting-Modern-Abstract-oil-painting-on-canvas-paintings-for.jpg'}\r\n                                    alt={'ава'} className={s.photo}/>\r\n                            </NavLink>\r\n                            <div>\r\n                                {u.followed\r\n                                    ? <button disabled={props.disabled.some(id => id === u.id)}\r\n                                              onClick={() => {\r\n                                                  props.unfollowThunkCreator(u.id);\r\n                                              }}>Unfollow</button>\r\n                                    : <button disabled={props.disabled.some(id => id === u.id)}\r\n                                              onClick={() => {\r\n                                                  props.followThunkCreator(u.id);\r\n                                              }}>Follow</button>}\r\n                            </div>\r\n                        </div>\r\n                        <div className={s.mainInfo}>\r\n                            <div>\r\n                                <p>{u.name}</p>\r\n                                <p>{u.status}</p>\r\n                            </div>\r\n                            <div>\r\n                                <p>{'u.location.country'}</p>\r\n                                <p>{'u.location.city'}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Users;","import {connect} from \"react-redux\";\r\nimport {\r\n    followThunkCreator,\r\n    getUsersThunkCreator,\r\n    setCurrentPage,\r\n    unfollowThunkCreator\r\n} from \"../../redux/usersReducer\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\n\r\n\r\nclass UsersAPI extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    //при исп стрелочной функции контекст не теряется. Вызываем в onClick, поидее надо bind использовать\r\n    setCurrentPage = (p) => {\r\n        this.props.setCurrentPage(p);\r\n        //реакт не успеет поменять currentPage, axios запрос выполнит первее, поэтому указываем здесь актуальную страницу\r\n        this.props.getUsersThunkCreator(p, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <Users totalCount={this.props.totalCount}\r\n                      pageSize={this.props.pageSize}\r\n                      currentPage={this.props.currentPage}\r\n                      users={this.props.users}\r\n                      setCurrentPage={this.setCurrentPage}\r\n                      isLoading={this.props.isLoading}\r\n                      disabled={this.props.disabled}\r\n                      unfollowThunkCreator={this.props.unfollowThunkCreator}\r\n                      followThunkCreator={this.props.followThunkCreator}/>\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        users: state.usersPage.users,\r\n        currentPage: state.usersPage.currentPage,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalCount: state.usersPage.totalCount,\r\n        isLoading: state.usersPage.isLoading,\r\n        disabled: state.usersPage.disabled,\r\n    }\r\n}\r\n\r\n// function mapDispatchToProps(dispatch) {\r\n//     return {\r\n//         followToggle: (userID) => {\r\n//             dispatch(followToggle(userID));\r\n//         },\r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users));\r\n//         },\r\n//         setTotalCount: (totalCount) => {\r\n//             dispatch(setTotalCountAC(totalCount));\r\n//         },\r\n//         setCurrentPage: (currentPage) => {\r\n//             dispatch(setCurrentPageAC(currentPage));\r\n//         },\r\n//         setPreloader: (isLoading) => {\r\n//             dispatch(setPreloaderAC(isLoading));\r\n//         }\r\n//     }\r\n// }\r\n\r\n//лайфхак с Dispatch'ем: можно переименовать ActionCreator'ы и сократить код, connect сам задиспатчит AC и вернет пропсы с такими же названиями\r\nlet mapDispatchToProps = {\r\n    setCurrentPage,\r\n\r\n    getUsersThunkCreator,\r\n    unfollowThunkCreator,\r\n    followThunkCreator\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersAPI);\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\n\r\n\r\nconst ProfileStatusHook = (props) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n\r\n    const updateNewStatus = (event) => {\r\n        setStatus(event.currentTarget.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input type=\"text\" autoFocus={true} onBlur={deactivateEditMode} value={status}\r\n                       onChange={updateNewStatus}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default ProfileStatusHook;","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusHook from \"./ProfileStatusHook\";\r\n\r\n\r\nfunction ProfileInfo(props) {\r\n    if (!props.userProfile) return <Preloader/>;\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.info}>\r\n                <img className={s.background}\r\n                     src=\"https://avatars.mds.yandex.net/get-pdb/1220164/731fcc94-9a7a-4a04-b01e-e85b7e683e90/s1200\"\r\n                     alt=\"\"/>\r\n            </div>\r\n            <img className={s.photo} src={props.userProfile.photos.large || 'https://cdn.pricearchive.org/images/aliexpress.com/32675545831/Francoise-Nielly-Hand-painted-Marilyn-Monroe-Oil-painting-Modern-Abstract-oil-painting-on-canvas-paintings-for.jpg'}/>\r\n            <ProfileStatusHook status={props.status} updateStatus={props.updateStatus}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nfunction Post(props) {\r\n    return (\r\n        <div className={s.post}>\r\n            <img src=\"https://avatars.mds.yandex.net/get-pdb/1870458/6f323742-dfd9-4c4a-abef-acb76a2130c8/s1200\"\r\n                 alt=\"\"/>\r\n            <span className=\"text\">{props.message}</span>\r\n            <button className=\"like\">like</button>\r\n            <span className='countLikes'>{` ${props.likesCountss}`}</span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport s from './Posts.module.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {renderTextarea} from \"../../common/ValidatorForms/ValidatorForms\";\r\nimport {maxLength} from \"../../../utils/validators\";\r\n\r\n\r\n\r\nfunction Posts(props) {\r\n    let posts = props.posts.map(({id, message, likesCount}) => <Post message={message} likesCountss={likesCount} key={id}/>);\r\n\r\n    function addPost(formData) {\r\n        props.addPost(formData.postText);\r\n    }\r\n\r\n    // console.log(\"RENDER Posts\");\r\n    return (\r\n        <div>\r\n            <h2>My posts</h2>\r\n            <AddPostForm onSubmit={addPost} />\r\n            <div className={s.posts}>\r\n                {posts}\r\n                {/*<Post message=\"I'm glad to meet you, guy\" likesCount='12'/>*/}\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nconst maxLength10 = maxLength(10);\r\n\r\nlet AddPostForm = props => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.form}>\r\n            <Field component={renderTextarea} validate={[maxLength10]} name='postText' placeholder='enter post'/>\r\n            <button>add</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nAddPostForm = reduxForm({form: 'addPostForm'})(AddPostForm);\r\n\r\nexport default Posts;","// import React from 'react';\r\nimport {addPostActionCreator} from \"../../../redux/profileReducer\";\r\nimport Posts from \"./Posts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n\r\n// function PostsContainer(props) {\r\n//     let state = props.store.getState();\r\n//\r\n//     function addPost() {\r\n//         props.store.dispatch(addPostActionCreator());\r\n//     }\r\n//\r\n//     function updateNewTextPost(text) {\r\n//         props.store.dispatch(updateNewTextPostActionCreator(text));\r\n//     }\r\n//\r\n//     return (\r\n//         <Posts posts={state.profilePage.posts}\r\n//                newText={state.profilePage.newTextPost}\r\n//                updateNewTextPost={updateNewTextPost}\r\n//                addPost={addPost}/>\r\n//     );\r\n// }\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newText: state.profilePage.newTextPost\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        addPost: (postText) => {\r\n            dispatch(addPostActionCreator(postText));\r\n        },\r\n    }\r\n}\r\n\r\nconst PostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts);\r\n\r\nexport default PostsContainer;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport PostsContainer from \"./MyPosts/PostsContainer\";\r\n\r\n\r\nfunction Profile(props) {\r\n\r\n    return (\r\n        <main className={s.main}>\r\n            <ProfileInfo userProfile={props.userProfile}\r\n                         status={props.status}\r\n                         getStatus={props.getStatus}\r\n                         updateStatus={props.updateStatus}/>\r\n            <PostsContainer/>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Profile;","import {createSelector} from \"reselect\";\r\n\r\nexport const getUserProfileSelector = (state) => {\r\n    return state.profilePage.userProfile;\r\n}\r\nexport const getUserProfile = createSelector(getUserProfileSelector,\r\n    (user) => {\r\n    //какая-то сложная логика\r\n        return user;\r\n    });\r\n\r\nexport const getUserStatus = (state) => state.profilePage.status;\r\n","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, getStatus, updateStatus} from \"../../redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {getUserProfile, getUserStatus} from \"../../redux/selectors/profileSelectors\";\r\n\r\n\r\nclass ProfileAPI extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId || this.props.authorizedId || this.props.history.push('/login');\r\n        this.props.getProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return <Profile userProfile={this.props.userProfile}\r\n                        status={this.props.status}\r\n                        getStatus={this.props.getStatus}\r\n                        updateStatus={this.props.updateStatus}/>\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        userProfile: getUserProfile(state),\r\n        status: getUserStatus(state),\r\n\r\n        authorizedId: state.auth.id,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    //thunkCreators\r\n    getProfile,\r\n    getStatus,\r\n    updateStatus,\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withRouter,\r\n    // withAuthRedirect\r\n)(ProfileAPI);\r\n\r\n\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n    return (\r\n        <header className={s.header}>\r\n            <img className=\"logo\" src=\"https://image.flaticon.com/icons/svg/908/908097.svg\" alt=\"#\"/>\r\n            {props.isLogin\r\n                ? <NavLink to={'/account'} className={s.auth}>{props.login} <button onClick={props.logout}>Log out</button></NavLink>\r\n                : <NavLink to={'/login'} className={s.auth}>Login</NavLink>\r\n            }\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\n\r\nclass HeaderAPI extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isLogin: state.auth.isLogin,\r\n        login: state.auth.login\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    // thunkCreators\r\n    logout\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderAPI);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLength, required} from \"../../utils/validators\";\r\nimport {renderInput} from \"../common/ValidatorForms/ValidatorForms\";\r\nimport s from \"./Login.module.css\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nconst maxLength30 = maxLength(30);\r\nconst maxLength15 = maxLength(15);\r\n\r\nlet LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={renderInput} type=\"text\" name=\"email\" placeholder={'your login'} validate={[required, maxLength30]}/>\r\n            </div>\r\n            <div>\r\n                <Field component={renderInput} type=\"password\" name=\"password\" placeholder={'enter password'} validate={[required, maxLength15]}/>\r\n            </div>\r\n            <div>\r\n                <Field component={'input'} type=\"checkbox\" name=\"rememberMe\"/> Remember me\r\n            </div>\r\n            <div className={s.commonError}>\r\n                {props.error}\r\n            </div>\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nLoginForm = reduxForm({form: 'loginForm'})(LoginForm);\r\n\r\n\r\nconst Login = (props) => {\r\n    const onSubmit= (formData) => {\r\n        let {email, password, rememberMe = false} = formData;\r\n        props.login(email, password, rememberMe);\r\n    };\r\n\r\n    if (props.isLogin) return <Redirect to=\"/profile\"/>\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginForm onSubmit={onSubmit}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import Login from \"./Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/authReducer\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isLogin: state.auth.isLogin,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    //thunkCreators\r\n    login,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import React, {Component, Suspense} from 'react';\r\nimport './App.css';\r\nimport NavBaar from './blocks/Nav/NavBaar';\r\nimport {Route, withRouter} from \"react-router-dom\";\r\nimport News from \"./blocks/News/News\";\r\nimport Music from \"./blocks/Music/Music\";\r\nimport Settings from \"./blocks/Settings/Settings\";\r\nimport UsersContainer from \"./blocks/Users/UsersContainer\";\r\nimport ProfileContainer from \"./blocks/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./blocks/Header/HeaderContainer\";\r\nimport LoginContainer from \"./blocks/Login/LoginContainer\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {initializeApp} from \"./redux/appReducer\";\r\nimport Preloader from \"./blocks/common/Preloader/Preloader\";\r\n\r\n// import DialogsContainer from \"./blocks/Dialogs/DialogsContainer\";\r\nconst DialogsContainer = React.lazy(() => import('./blocks/Dialogs/DialogsContainer'));\r\n\r\n\r\nclass App extends Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) return <Preloader/>\r\n\r\n        return (\r\n            <div className=\"wrapper\">\r\n                <HeaderContainer/>\r\n                <NavBaar state={this.props.store.getState().navbaar}/>\r\n                <div className='wrapper__main'>\r\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                    <Route path='/dialogs' render={() => (\r\n                        <Suspense fallback={<div>Загрузка...</div>}>\r\n                            <DialogsContainer/>\r\n                        </Suspense>)}/>\r\n                    <Route path='/users' render={() => <UsersContainer/>}/>\r\n\r\n                    <Route path='/login' render={() => <LoginContainer/>}/>\r\n\r\n                    <Route path='/news' component={News}/>\r\n                    <Route path='/music' component={Music}/>\r\n                    <Route path='/settings' component={Settings}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    initializeApp,\r\n}\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(App);\r\n","import * as serviceWorker from './serviceWorker';\r\nimport store from \"./redux/storeRedux\";\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nfunction renderEntireTree() {\r\n    ReactDOM.render(\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <App store={store}/>\r\n            </Provider>\r\n        </BrowserRouter>,\r\n        document.getElementById('root'));\r\n}\r\n\r\nrenderEntireTree();\r\n\r\nstore.subscribe(renderEntireTree);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","export const required = value => value ? undefined : 'this field is required';\r\n\r\nexport const maxLength = (maxLength) => (value) => (value && value.length <= maxLength) ? undefined : `max length is ${maxLength} symbols`;\r\n","import React from \"react\";\r\nimport s from './Validators.module.css';\r\n\r\n// const renderField = ({\r\n//                          input,\r\n//                          label,\r\n//                          type,\r\n//                          meta: {touched, error, warning}\r\n//                      }) => (\r\n//     <div>\r\n//         <label>{label}</label>\r\n//         <div>\r\n//             <input {...input} placeholder={label} type={type}/>\r\n//             {touched &&\r\n//             ((error && <span>{error}</span>) ||\r\n//                 (warning && <span>{warning}</span>))}\r\n//         </div>\r\n//     </div>\r\n// )\r\n\r\nexport const renderInput = (fieldData) => {\r\n    // console.log(fieldData);\r\n    // {input, label, type, meta: {touched, error, warning}}\r\n    const {input, meta, ...restProps} = fieldData;\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <input {...input}{...restProps}/>\r\n            <div>\r\n                {hasError && <span>{meta.error}</span> }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const renderTextarea = (fieldData) => {\r\n    const {input, meta, ...restProps} = fieldData;\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <textarea {...input}{...restProps}/>\r\n            <div>\r\n                {hasError && <span>{meta.error}</span> }\r\n            </div>\r\n        </div>\r\n    );\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"Validators_formControl__3FGpf\",\"error\":\"Validators_error__2YzmT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__Z8w-N\",\"wrapper\":\"Friends_wrapper__3sOzh\",\"title\":\"Friends_title__2HpBe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo\":\"Users_photo__WhRoW\",\"userWrapper\":\"Users_userWrapper__2wO4Z\",\"mainInfo\":\"Users_mainInfo__2o5SS\",\"selectedPage\":\"Users_selectedPage__1rYo1\",\"pageNumber\":\"Users_pageNumber__1cEyU\",\"pageNumbersWrapper\":\"Users_pageNumbersWrapper__1LOmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"ProfileInfo_info__35Rtg\",\"background\":\"ProfileInfo_background__YgpsR\",\"photo\":\"ProfileInfo_photo__3Otcv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2EbM4\",\"auth\":\"Header_auth__m9kT_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__1nPAc\",\"pageNumber\":\"Paginator_pageNumber__3zNj1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"Posts_posts__Sx3kT\",\"form\":\"Posts_form__2uGdS\"};","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Petya', src: 'https://profmed.1prof.by/kcfinder/upload/images/Dialog.jpg'},\r\n        {id: 2, name: 'Oleg', src: 'https://autogear.ru/misc/i/gallery/39549/2484297.jpg'},\r\n        {id: 3, name: 'Petya, Oleg', src: 'https://sakhapress.ru/wp-content/uploads/2016/02/GEMoAv13.jpg'},\r\n        {id: 4, name: 'Alina', src: 'https://profmed.1prof.by/kcfinder/upload/images/Dialog.jpg'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'How are you man?'},\r\n        {id: 2, message: 'Holla'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'I think your react practice is really good'},\r\n        {id: 6, message: 'Hi'},\r\n        {id: 7, message: \"What's up man?\"}\r\n    ]\r\n};\r\n\r\nfunction dialogsReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            const newMessage = {\r\n                id: 8,\r\n                message: action.messageText\r\n            };\r\n            return {\r\n                ...state,\r\n                messages: [ ...state.messages, newMessage],\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;\r\n\r\nexport const addMessageActionCreator = (messageText) => ({type: ADD_MESSAGE, messageText});\r\n"],"sourceRoot":""}